---
title: Linux
tags:
  - wiki
jekyll-theme-WuK:
 background_music: ' <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=100% height=42 src="//music.163.com/outchain/player?type=2&id=22800822&auto=1&height=32"></iframe>'
---

# 命令

## crontab

ubuntu 通过调用 run-parts 命令，定时运行四个目录下的所有脚本

> 1. /etc/cron.hourly，目录下的脚本会每个小时让执行一次，在每小时的2分钟时运行；
> 2. /etc/cron.daily，目录下的脚本会每天让执行一次，在每天0点17分时运行；
> 3. /etc/cron.weekly，目录下的脚本会每周让执行一次，在每周第七天的3点56分时运行；
> 4. /etc/cron.mouthly，目录下的脚本会每月让执行一次，在每月19号的5点32分时运行；

**cron 服务的启动与停止**

```shell
service cron start #启动服务
service cron stop #关闭服务
service cron restart #重启服务
service cron reload #重新载入配置
```

**crontab**是用来定期执行程序的命令

```shell
crontab [ -u user ] file
crontab [ -u user ] { -l | -r | -e }

# -e : 执行文字编辑器来设定时程表
# -r : 删除目前的时程表
# -l : 列出目前的时程表
```

```shell
# cron file
*    *    *    *    *	cmd
-    -    -    -    -
|    |    |    |    |
|    |    |    |    +----- 星期中星期几 (0 - 6) (星期天 为0)
|    |    |    +---------- 月份 (1 - 12) 
|    |    +--------------- 一个月中的第几天 (1 - 31)
|    +-------------------- 小时 (0 - 23)
+------------------------- 分钟 (0 - 59)

5 * * * * ls #指定每小时的第5分钟执行一次ls命令
30 5 * * * ls #指定每天的 5:30 执行ls命令
*/3 * * * * test.sh #每隔3分钟执行一次sh
```

